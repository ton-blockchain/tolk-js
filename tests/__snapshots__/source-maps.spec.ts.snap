// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`source-maps should generate correct source map for lazy match 1`] = `
"
  1 | struct (0x1) Single {
  2 |     x: int32
  3 | }
  4 | 
  5 | struct (0x2) Pair {
  6 |     x: int32
  7 |     y: int32
  8 | }
  9 | 
 10 | type Data = Single | Pair
 11 | 
 12 | fun <#3>main(data: slice) {
 13 |     <#4>val thing = <#9>lazy Data<#5>.fromSlice(data);
 14 |     
 15 |     match (thing) {
 16 |         <#10>Single => {
 17 |             <#11>throw thing.x;
 18 |         }
 19 |         <#12>Pair => {
 20 |             <#14>throw thing.x <#13>+ thing.y;
 21 |         }
 22 |         else => {
 23 |             <#16>return <#15>10;
 24 |         }
 25 |     }
 26 | }

Cell 1821d664...:
    0: SETCP
   16: DICTPUSHCONST
   40: DICTIGETJMPZ
   56: THROWARG
   56: RET

Cell 259edd3f...:
    0: SDBEGINSQ [#3,#4,#5,#6,#7,#8,#9,#10]
   32: PUSHCONT_SHORT
   40: PLDI
   64: THROWANY [#11]
   64: RET
   80: IFJMP
   88: SDBEGINSQ [#12]
  120: PUSHCONT
  136: LDI
  152: PLDI
  176: ADD [#13]
  184: THROWANY [#14]
  184: RET
  200: IFJMP
  208: DROP [#15]
  216: PUSHINT_4
  216: RET [#16]

"
`;

exports[`source-maps should generate correct source map for simple function 1`] = `
"
  1 | fun <#3>main(a: int) {
  2 |     <#4>var x = a <#6>+ <#5>1;
  3 |     <#9>return <#8>max(x, <#7>10);
  4 | }

Cell 808c59db...:
    0: SETCP
   16: DICTPUSHCONST
   40: DICTIGETJMPZ
   56: THROWARG
   56: RET

Cell 71e0ec90...:
    0: INC [#3,#4,#5,#6]
    8: PUSHINT_4 [#7]
   16: MAX [#8]
   16: RET [#9]

"
`;

exports[`source-maps should generate source map 1`] = `
{
  "assemblyMapping": {
    "cells": {
      "8bea7604d0b072b209c4e479a40999439f4f67f574f4a47691381dda9451d308": {
        "instructions": [
          {
            "debugSections": [
              3,
              4,
            ],
            "loc": {
              "file": "out.tasm",
              "line": 5,
              "otherLines": [],
            },
            "name": "PUSHINT_4",
            "offset": 0,
          },
          {
            "debugSections": [
              5,
            ],
            "loc": {
              "file": "out.tasm",
              "line": 7,
              "otherLines": [],
            },
            "name": "MAX",
            "offset": 8,
          },
          {
            "debugSections": [
              6,
            ],
            "loc": {
              "file": "out.tasm",
              "line": 7,
              "otherLines": [],
            },
            "name": "RET",
            "offset": 8,
          },
        ],
      },
      "fd8692835670899ef97044b0a2d78da8c72156229c1f48102feed7753ceadef0": {
        "instructions": [
          {
            "debugSections": [],
            "loc": {
              "file": "out.tasm",
              "line": 0,
              "otherLines": [],
            },
            "name": "SETCP",
            "offset": 0,
          },
          {
            "debugSections": [],
            "loc": {
              "file": "out.tasm",
              "line": 1,
              "otherLines": [],
            },
            "name": "DICTPUSHCONST",
            "offset": 16,
          },
          {
            "debugSections": [],
            "loc": {
              "file": "out.tasm",
              "line": 11,
              "otherLines": [],
            },
            "name": "DICTIGETJMPZ",
            "offset": 40,
          },
          {
            "debugSections": [],
            "loc": {
              "file": "out.tasm",
              "line": 12,
              "otherLines": [],
            },
            "name": "THROWARG",
            "offset": 56,
          },
          {
            "debugSections": [],
            "loc": {
              "file": "out.tasm",
              "line": 12,
              "otherLines": [],
            },
            "name": "RET",
            "offset": 56,
          },
        ],
      },
    },
    "dictionaryCells": [
      {
        "cell": "a9e0df6bc8c41cca2abd6f8bbc8de4da6a520b743348e40b468cce4d251a674a",
        "dataCell": "8bea7604d0b072b209c4e479a40999439f4f67f574f4a47691381dda9451d308",
        "offset": 8,
      },
    ],
  },
  "highlevelMapping": {
    "debugCode64": "te6ccgEBAgEAIwABFP8A9KQT9LzyyAsBACjT+VUAA/lVAAR6+VUABbYJ+VUABg==",
    "files": [],
    "globals": [],
    "locations": [
      {
        "context": {
          "ast_kind": "ast_function_declaration",
          "func_inline_mode": 0,
          "func_name": "MapLookupResult<slice>.loadValue",
          "is_entry": true,
        },
        "debug": undefined,
        "idx": 0,
        "loc": {
          "col": 27,
          "file": "@stdlib/common.tolk",
          "length": 1,
          "line": 927,
          "line_offset": 0,
        },
        "vars": [],
      },
      {
        "context": {
          "ast_kind": "ast_not_null_operator",
          "func_inline_mode": 0,
          "func_name": "MapLookupResult<slice>.loadValue",
        },
        "debug": undefined,
        "idx": 1,
        "loc": {
          "col": 15,
          "file": "@stdlib/common.tolk",
          "length": 1,
          "line": 928,
          "line_offset": 0,
        },
        "vars": [],
      },
      {
        "context": {
          "ast_kind": "ast_return_statement",
          "func_inline_mode": 0,
          "func_name": "MapLookupResult<slice>.loadValue",
        },
        "debug": undefined,
        "idx": 2,
        "loc": {
          "col": 4,
          "file": "@stdlib/common.tolk",
          "length": 1,
          "line": 928,
          "line_offset": 1,
        },
        "vars": [],
      },
      {
        "context": {
          "ast_kind": "ast_function_declaration",
          "func_inline_mode": 0,
          "func_name": "main",
          "is_entry": true,
        },
        "debug": undefined,
        "idx": 3,
        "loc": {
          "col": 4,
          "file": "wallet-code.tolk",
          "length": 1,
          "line": 1,
          "line_offset": 0,
        },
        "vars": [
          {
            "name": "a",
            "type": "int",
          },
        ],
      },
      {
        "context": {
          "ast_kind": "ast_int_const",
          "func_inline_mode": 0,
          "func_name": "main",
        },
        "debug": undefined,
        "idx": 4,
        "loc": {
          "col": 18,
          "file": "wallet-code.tolk",
          "length": 1,
          "line": 2,
          "line_offset": 0,
        },
        "vars": [
          {
            "name": "a",
            "type": "int",
          },
        ],
      },
      {
        "context": {
          "ast_kind": "ast_function_call",
          "func_inline_mode": 0,
          "func_name": "main",
        },
        "debug": undefined,
        "idx": 5,
        "loc": {
          "col": 11,
          "file": "wallet-code.tolk",
          "length": 1,
          "line": 2,
          "line_offset": 0,
        },
        "vars": [
          {
            "name": "a",
            "type": "int",
          },
          {
            "constant_value": "10",
            "name": "'1",
            "type": "int",
          },
        ],
      },
      {
        "context": {
          "ast_kind": "ast_return_statement",
          "func_inline_mode": 0,
          "func_name": "main",
        },
        "debug": undefined,
        "idx": 6,
        "loc": {
          "col": 4,
          "file": "wallet-code.tolk",
          "length": 1,
          "line": 2,
          "line_offset": 1,
        },
        "vars": [
          {
            "name": "'2",
            "type": "int",
          },
        ],
      },
    ],
    "version": "1",
  },
}
`;
